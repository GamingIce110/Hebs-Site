<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <title>HEBS Chat</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
  <div class="login-container">
    <h1 class="glitch">HEBS CHAT</h1>
    <div id="chat-box" class="chat-box"></div>
    <textarea id="chat-input" placeholder="Type your message..."></textarea>
    <button onclick="sendMessage()">Send</button>
    <button onclick="clearChat()">Clear</button>
    <button onclick="logout()">Logout</button>
  </div>
  <script>
    const chatRef = firebase.database().ref('chat');
    const chatBox = document.getElementById('chat-box');
    const chatInput = document.getElementById('chat-input');function sendMessage() {
  const message = chatInput.value;
  const user = localStorage.getItem('hebsMember');

  if (message && user) {
    chatRef.push({ user: user, message: message, timestamp: new Date().toISOString() });
    chatInput.value = '';
  } else {
    Swal.fire({
      title: 'Error',
      text: 'Please type a message and make sure you are logged in!'
    });
  }
}

function clearChat() {
  chatRef.remove();
}

chatRef.on('child_added', snapshot => {
  const data = snapshot.val();
  const messageElement = document.createElement('p');
  messageElement.innerHTML = `<b>${data.user}</b>: ${data.message} <span class="timestamp">${new Date(data.timestamp).toLocaleString()}</span>`;
  chatBox.appendChild(messageElement);
});

function logout() {
  localStorage.removeItem('hebsMember');
  window.location.href = 'index.html';
}

  </script>
</body>
</html>